var fs = require('graceful-fs');
var intelhex = require('intel-hex');

var tools = {};

/**
 * Opens and parses a given hex file
 */

/**
 * 
 * modified version does not check for file
 * just intel encodes the hex that is passed as a 
 * string and returns it.
 * 
 */
tools._parseHex = function(file) {
  //try {
    var data=file;
//    if (typeof file === 'string') {
//      data = fs.readFileSync(file, {
//        encoding: 'utf8'
//      });
//    } else {
//      data = file;
//    }
//data=file;
//
//    return intelhex.parse(data).data;
//  } catch (error) {
//    return error;
//  }
    //return file
    return intelhex.parse(data).data;
};

module.exports = tools;
